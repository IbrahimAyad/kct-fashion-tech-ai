{"ast":null,"code":"import React,{useState,useEffect}from'react';import'./OutageNotification.css';import{jsx as _jsx,jsxs as _jsxs}from\"react/jsx-runtime\";const OutageNotification=_ref=>{let{onClose}=_ref;const[isVisible,setIsVisible]=useState(false);const[timeRemaining,setTimeRemaining]=useState('');useEffect(()=>{const STORAGE_KEY='outage_notification_timestamp';const DURATION_24_HOURS=24*60*60*1000;// 24 hours in milliseconds\nconst checkNotificationStatus=()=>{const storedTimestamp=localStorage.getItem(STORAGE_KEY);const now=Date.now();if(!storedTimestamp){// First time showing - set the timestamp\nlocalStorage.setItem(STORAGE_KEY,now.toString());setIsVisible(true);return now;}const startTime=parseInt(storedTimestamp);const elapsed=now-startTime;if(elapsed<DURATION_24_HOURS){setIsVisible(true);return startTime;}else{// 24 hours have passed, clean up\nlocalStorage.removeItem(STORAGE_KEY);setIsVisible(false);return null;}};const startTime=checkNotificationStatus();if(startTime){// Update countdown every minute\nconst interval=setInterval(()=>{const now=Date.now();const elapsed=now-startTime;const remaining=DURATION_24_HOURS-elapsed;if(remaining<=0){localStorage.removeItem(STORAGE_KEY);setIsVisible(false);clearInterval(interval);}else{const hours=Math.floor(remaining/(1000*60*60));const minutes=Math.floor(remaining%(1000*60*60)/(1000*60));setTimeRemaining(\"\".concat(hours,\"h \").concat(minutes,\"m remaining\"));}},60000);// Update every minute\n// Initial time calculation\nconst now=Date.now();const elapsed=now-startTime;const remaining=DURATION_24_HOURS-elapsed;const hours=Math.floor(remaining/(1000*60*60));const minutes=Math.floor(remaining%(1000*60*60)/(1000*60));setTimeRemaining(\"\".concat(hours,\"h \").concat(minutes,\"m remaining\"));return()=>clearInterval(interval);}},[]);const handleClose=()=>{setIsVisible(false);if(onClose){onClose();}};const handlePhoneClick=()=>{window.open('tel:313-525-2424','_self');};const handleTextClick=()=>{window.open('sms:313-525-2424','_self');};const handleOverlayClick=e=>{// Close if clicking on the overlay background, not the popup itself\nif(e.target===e.currentTarget){handleClose();}};if(!isVisible)return null;return/*#__PURE__*/_jsx(\"div\",{className:\"outage-notification-overlay\",onClick:handleOverlayClick,children:/*#__PURE__*/_jsxs(\"div\",{className:\"outage-notification-popup\",children:[/*#__PURE__*/_jsx(\"button\",{className:\"outage-notification-close\",onClick:handleClose,\"aria-label\":\"Close notification\",children:\"\\xD7\"}),/*#__PURE__*/_jsxs(\"div\",{className:\"outage-notification-content\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"outage-notification-header\",children:[/*#__PURE__*/_jsx(\"h2\",{children:\"\\uD83D\\uDEA8 SERVICE OUTAGE NOTICE\"}),/*#__PURE__*/_jsx(\"p\",{className:\"outage-location\",children:\"Detroit Area\"})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"outage-notification-message\",children:[/*#__PURE__*/_jsx(\"p\",{children:/*#__PURE__*/_jsx(\"strong\",{children:\"Phone lines and internet are currently down in the Detroit area.\"})}),/*#__PURE__*/_jsx(\"p\",{children:\"Please call or text your order to:\"}),/*#__PURE__*/_jsx(\"div\",{className:\"outage-phone-number\",children:/*#__PURE__*/_jsx(\"span\",{className:\"phone-number\",children:\"313-525-2424\"})}),/*#__PURE__*/_jsxs(\"div\",{className:\"outage-action-buttons\",children:[/*#__PURE__*/_jsx(\"button\",{className:\"outage-btn outage-btn-call\",onClick:handlePhoneClick,children:\"\\uD83D\\uDCDE Call Now\"}),/*#__PURE__*/_jsx(\"button\",{className:\"outage-btn outage-btn-text\",onClick:handleTextClick,children:\"\\uD83D\\uDCAC Text Order\"})]}),/*#__PURE__*/_jsx(\"p\",{className:\"outage-apology\",children:\"We apologize for any inconvenience and appreciate your patience.\"})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"outage-notification-footer\",children:[/*#__PURE__*/_jsxs(\"small\",{className:\"outage-timer\",children:[\"This notice will auto-expire in \",timeRemaining]}),/*#__PURE__*/_jsx(\"div\",{style:{marginTop:'10px',fontSize:'11px',color:'#ffcccc'},children:\"\\uD83D\\uDCA1 Click outside this popup to continue browsing\"})]})]})]})});};export default OutageNotification;","map":{"version":3,"names":["React","useState","useEffect","jsx","_jsx","jsxs","_jsxs","OutageNotification","_ref","onClose","isVisible","setIsVisible","timeRemaining","setTimeRemaining","STORAGE_KEY","DURATION_24_HOURS","checkNotificationStatus","storedTimestamp","localStorage","getItem","now","Date","setItem","toString","startTime","parseInt","elapsed","removeItem","interval","setInterval","remaining","clearInterval","hours","Math","floor","minutes","concat","handleClose","handlePhoneClick","window","open","handleTextClick","handleOverlayClick","e","target","currentTarget","className","onClick","children","style","marginTop","fontSize","color"],"sources":["/Users/ibrahim/Desktop/kct-fashion-tech-ai/Royal.React+TS/royale-with-cheese/src/components/OutageNotification.tsx"],"sourcesContent":["import React, { useState, useEffect } from 'react';\nimport './OutageNotification.css';\n\ninterface OutageNotificationProps {\n  onClose?: () => void;\n}\n\nconst OutageNotification: React.FC<OutageNotificationProps> = ({ onClose }) => {\n  const [isVisible, setIsVisible] = useState(false);\n  const [timeRemaining, setTimeRemaining] = useState('');\n\n  useEffect(() => {\n    const STORAGE_KEY = 'outage_notification_timestamp';\n    const DURATION_24_HOURS = 24 * 60 * 60 * 1000; // 24 hours in milliseconds\n\n    const checkNotificationStatus = () => {\n      const storedTimestamp = localStorage.getItem(STORAGE_KEY);\n      const now = Date.now();\n\n      if (!storedTimestamp) {\n        // First time showing - set the timestamp\n        localStorage.setItem(STORAGE_KEY, now.toString());\n        setIsVisible(true);\n        return now;\n      }\n\n      const startTime = parseInt(storedTimestamp);\n      const elapsed = now - startTime;\n\n      if (elapsed < DURATION_24_HOURS) {\n        setIsVisible(true);\n        return startTime;\n      } else {\n        // 24 hours have passed, clean up\n        localStorage.removeItem(STORAGE_KEY);\n        setIsVisible(false);\n        return null;\n      }\n    };\n\n    const startTime = checkNotificationStatus();\n\n    if (startTime) {\n      // Update countdown every minute\n      const interval = setInterval(() => {\n        const now = Date.now();\n        const elapsed = now - startTime;\n        const remaining = DURATION_24_HOURS - elapsed;\n\n        if (remaining <= 0) {\n          localStorage.removeItem(STORAGE_KEY);\n          setIsVisible(false);\n          clearInterval(interval);\n        } else {\n          const hours = Math.floor(remaining / (1000 * 60 * 60));\n          const minutes = Math.floor((remaining % (1000 * 60 * 60)) / (1000 * 60));\n          setTimeRemaining(`${hours}h ${minutes}m remaining`);\n        }\n      }, 60000); // Update every minute\n\n      // Initial time calculation\n      const now = Date.now();\n      const elapsed = now - startTime;\n      const remaining = DURATION_24_HOURS - elapsed;\n      const hours = Math.floor(remaining / (1000 * 60 * 60));\n      const minutes = Math.floor((remaining % (1000 * 60 * 60)) / (1000 * 60));\n      setTimeRemaining(`${hours}h ${minutes}m remaining`);\n\n      return () => clearInterval(interval);\n    }\n  }, []);\n\n  const handleClose = () => {\n    setIsVisible(false);\n    if (onClose) {\n      onClose();\n    }\n  };\n\n  const handlePhoneClick = () => {\n    window.open('tel:313-525-2424', '_self');\n  };\n\n  const handleTextClick = () => {\n    window.open('sms:313-525-2424', '_self');\n  };\n\n  const handleOverlayClick = (e: React.MouseEvent) => {\n    // Close if clicking on the overlay background, not the popup itself\n    if (e.target === e.currentTarget) {\n      handleClose();\n    }\n  };\n\n  if (!isVisible) return null;\n\n  return (\n    <div className=\"outage-notification-overlay\" onClick={handleOverlayClick}>\n      <div className=\"outage-notification-popup\">\n        <button \n          className=\"outage-notification-close\" \n          onClick={handleClose}\n          aria-label=\"Close notification\"\n        >\n          Ã—\n        </button>\n        \n        <div className=\"outage-notification-content\">\n          <div className=\"outage-notification-header\">\n            <h2>ðŸš¨ SERVICE OUTAGE NOTICE</h2>\n            <p className=\"outage-location\">Detroit Area</p>\n          </div>\n\n          <div className=\"outage-notification-message\">\n            <p><strong>Phone lines and internet are currently down in the Detroit area.</strong></p>\n            <p>Please call or text your order to:</p>\n            \n            <div className=\"outage-phone-number\">\n              <span className=\"phone-number\">313-525-2424</span>\n            </div>\n\n            <div className=\"outage-action-buttons\">\n              <button \n                className=\"outage-btn outage-btn-call\" \n                onClick={handlePhoneClick}\n              >\n                ðŸ“ž Call Now\n              </button>\n              <button \n                className=\"outage-btn outage-btn-text\" \n                onClick={handleTextClick}\n              >\n                ðŸ’¬ Text Order\n              </button>\n            </div>\n\n            <p className=\"outage-apology\">\n              We apologize for any inconvenience and appreciate your patience.\n            </p>\n          </div>\n\n          <div className=\"outage-notification-footer\">\n            <small className=\"outage-timer\">This notice will auto-expire in {timeRemaining}</small>\n            <div style={{ marginTop: '10px', fontSize: '11px', color: '#ffcccc' }}>\n              ðŸ’¡ Click outside this popup to continue browsing\n            </div>\n          </div>\n        </div>\n      </div>\n    </div>\n  );\n};\n\nexport default OutageNotification; "],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}